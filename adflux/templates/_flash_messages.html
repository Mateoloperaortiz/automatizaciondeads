{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="mb-4 space-y-2">
        {% for category, message in messages %}
            {# Aplicar diferentes colores de fondo/borde/texto según la categoría #}
            <div class="px-4 py-3 rounded relative 
                        {% if category == 'success' %} bg-green-100 border border-green-400 text-green-700 
                        {% elif category == 'error' or category == 'danger' %} bg-red-100 border border-red-400 text-red-700 
                        {% elif category == 'warning' %} bg-yellow-100 border border-yellow-400 text-yellow-700 
                        {% else %} bg-blue-100 border border-blue-400 text-blue-700 {% endif %}"
                 role="alert">
                <span class="block sm:inline">{{ message }}</span>
                {# Opcional: Añadir un botón de cierre
                <button type="button" class="absolute top-0 bottom-0 right-0 px-4 py-3" onclick="this.parentElement.style.display='none';">
                    <span class="text-xl font-bold">&times;</span>
                </button>
                 #} 
            </div>
        {% endfor %}
        </div>
    {% endif %}
{% endwith %} 